
<html>
  <head>
    <title>JSLoops Web Audio API Tests</title>
  </head>
  <body>
    <h1>JSLoops Web Audio API Tests</h1>
    <button id="sound">Play A Sound</button>
    <script src="../lib/jquery/dist/jquery.js"></script>
    <script src="../js/synths/kick.js"></script>
    <script src="../js/synths/snare.js"></script>
    <script src="../js/synths/sampler.js"></script>
    <script>
      var context = new AudioContext;
      
      $(document).ready(function(){
      
      	var kick = new Kick(context);
      	var snare = new Snare(context);
      	var hihat = new Sampler(context, '../samples/hihat_opened02.ogg');
      	
      	$("#sound").click(function(){
      		var now = context.currentTime;
      		for(var i = 0; i<= 4; i += 1){
      			kick.trigger(now + i);
      			hihat.trigger(now + i + 0.25);
      			snare.trigger(now + i + 0.5);	
      			hihat.trigger(now + i + 0.75);
      		}
      	})
      
      });
    </script>
  </body>
</html>